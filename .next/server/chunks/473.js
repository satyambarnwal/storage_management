"use strict";exports.id=473,exports.ids=[473],exports.modules={13473:(e,t,a)=>{a.d(t,{toFormData:()=>h}),a(73024),a(76760);var r=a(20728);a(37067),a(44708),a(38522),a(57075),a(4573),a(57975),a(84325),a(73136),a(77030);var n=Object.defineProperty,i=(e,t)=>n(e,"name",{value:t,configurable:!0});let o=0,A={START_BOUNDARY:o++,HEADER_FIELD_START:o++,HEADER_FIELD:o++,HEADER_VALUE_START:o++,HEADER_VALUE:o++,HEADER_VALUE_ALMOST_DONE:o++,HEADERS_ALMOST_DONE:o++,PART_DATA_START:o++,PART_DATA:o++,END:o++},s={PART_BOUNDARY:1,LAST_BOUNDARY:2},d=i(e=>32|e,"lower"),E=i(()=>{},"noop"),l=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=E,this.onHeaderField=E,this.onHeadersEnd=E,this.onHeaderValue=E,this.onPartBegin=E,this.onPartData=E,this.onPartEnd=E,this.boundaryChars={};let t=new Uint8Array((e=`\r
--`+e).length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a),this.boundaryChars[t[a]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=A.START_BOUNDARY}write(e){let t,a,r=0,n=e.length,o=this.index,{lookbehind:E,boundary:l,boundaryChars:D,index:h,state:T,flags:_}=this,R=this.boundary.length,f=R-1,c=e.length,u=i(e=>{this[e+"Mark"]=r},"mark"),H=i(e=>{delete this[e+"Mark"]},"clear"),b=i((e,t,a,r)=>{(void 0===t||t!==a)&&this[e](r&&r.subarray(t,a))},"callback"),P=i((t,a)=>{let n=t+"Mark";n in this&&(a?(b(t,this[n],r,e),delete this[n]):(b(t,this[n],e.length,e),this[n]=0))},"dataCallback");for(r=0;r<n;r++)switch(t=e[r],T){case A.START_BOUNDARY:if(h===l.length-2){if(45===t)_|=s.LAST_BOUNDARY;else if(13!==t)return;h++;break}if(h-1==l.length-2){if(_&s.LAST_BOUNDARY&&45===t)T=A.END,_=0;else{if(_&s.LAST_BOUNDARY||10!==t)return;h=0,b("onPartBegin"),T=A.HEADER_FIELD_START}break}t!==l[h+2]&&(h=-2),t===l[h+2]&&h++;break;case A.HEADER_FIELD_START:T=A.HEADER_FIELD,u("onHeaderField"),h=0;case A.HEADER_FIELD:if(13===t){H("onHeaderField"),T=A.HEADERS_ALMOST_DONE;break}if(h++,45===t)break;if(58===t){if(1===h)return;P("onHeaderField",!0),T=A.HEADER_VALUE_START;break}if((a=d(t))<97||a>122)return;break;case A.HEADER_VALUE_START:if(32===t)break;u("onHeaderValue"),T=A.HEADER_VALUE;case A.HEADER_VALUE:13===t&&(P("onHeaderValue",!0),b("onHeaderEnd"),T=A.HEADER_VALUE_ALMOST_DONE);break;case A.HEADER_VALUE_ALMOST_DONE:if(10!==t)return;T=A.HEADER_FIELD_START;break;case A.HEADERS_ALMOST_DONE:if(10!==t)return;b("onHeadersEnd"),T=A.PART_DATA_START;break;case A.PART_DATA_START:T=A.PART_DATA,u("onPartData");case A.PART_DATA:if(o=h,0===h){for(r+=f;r<c&&!(e[r]in D);)r+=R;r-=f,t=e[r]}if(h<l.length)l[h]===t?(0===h&&P("onPartData",!0),h++):h=0;else if(h===l.length)h++,13===t?_|=s.PART_BOUNDARY:45===t?_|=s.LAST_BOUNDARY:h=0;else if(h-1===l.length){if(_&s.PART_BOUNDARY){if(h=0,10===t){_&=~s.PART_BOUNDARY,b("onPartEnd"),b("onPartBegin"),T=A.HEADER_FIELD_START;break}}else _&s.LAST_BOUNDARY&&45===t?(b("onPartEnd"),T=A.END,_=0):h=0}h>0?E[h-1]=t:o>0&&(b("onPartData",0,o,new Uint8Array(E.buffer,E.byteOffset,E.byteLength)),o=0,u("onPartData"),r--);break;case A.END:break;default:throw Error(`Unexpected state entered: ${T}`)}P("onHeaderField"),P("onHeaderValue"),P("onPartData"),this.index=h,this.state=T,this.flags=_}end(){if(this.state===A.HEADER_FIELD_START&&0===this.index||this.state===A.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==A.END)throw Error("MultipartParser.end(): stream ended unexpectedly")}};function D(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let a=t[2]||t[3]||"",r=a.slice(a.lastIndexOf("\\")+1);return(r=r.replace(/%22/g,'"')).replace(/&#(\d{4});/g,(e,t)=>String.fromCharCode(t))}async function h(e,t){let a,n,o,A,s,d;if(!/multipart/i.test(t))throw TypeError("Failed to fetch");let E=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!E)throw TypeError("no or bad content-type header, no multipart boundary");let h=new l(E[1]||E[2]),T=[],_=new r.fS,R=i(e=>{o+=H.decode(e,{stream:!0})},"onPartData"),f=i(e=>{T.push(e)},"appendToFile"),c=i(()=>{let e=new r.ZH(T,d,{type:s});_.append(A,e)},"appendFileToFormData"),u=i(()=>{_.append(A,o)},"appendEntryToFormData"),H=new TextDecoder("utf-8");for await(let t of(H.decode(),h.onPartBegin=function(){h.onPartData=R,h.onPartEnd=u,a="",n="",o="",A="",s="",d=null,T.length=0},h.onHeaderField=function(e){a+=H.decode(e,{stream:!0})},h.onHeaderValue=function(e){n+=H.decode(e,{stream:!0})},h.onHeaderEnd=function(){if(n+=H.decode(),"content-disposition"===(a=a.toLowerCase())){let e=n.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);e&&(A=e[2]||e[3]||""),(d=D(n))&&(h.onPartData=f,h.onPartEnd=c)}else"content-type"===a&&(s=n);n="",a=""},e))h.write(t);return h.end(),_}i(l,"MultipartParser"),i(D,"_fileName"),i(h,"toFormData")}};