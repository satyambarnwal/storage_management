(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[396],{44396:(e,a,t)=>{Promise.resolve().then(t.bind(t,47563))},47563:(e,a,t)=>{"use strict";t.d(a,{default:()=>X});var s=t(95155),r=t(43415),l=t(85060),n=t(69606),i=t(14085),d=t(12115),o=t(12317),c=t(29602),u=t(46195);let m=(0,t(31027).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=d.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(u.b,{ref:a,className:(0,c.cn)(m(),t),...r})});f.displayName=u.b.displayName;let x=n.Op,p=d.createContext({}),h=e=>{let{...a}=e;return(0,s.jsx)(p.Provider,{value:{name:a.name},children:(0,s.jsx)(n.xI,{...a})})},g=()=>{let e=d.useContext(p),a=d.useContext(v),{getFieldState:t,formState:s}=(0,n.xW)(),r=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=a;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...r}},v=d.createContext({}),b=d.forwardRef((e,a)=>{let{className:t,...r}=e,l=d.useId();return(0,s.jsx)(v.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:a,className:(0,c.cn)("space-y-2",t),...r})})});b.displayName="FormItem";let N=d.forwardRef((e,a)=>{let{className:t,...r}=e,{error:l,formItemId:n}=g();return(0,s.jsx)(f,{ref:a,className:(0,c.cn)(l&&"text-red-500 dark:text-red-900",t),htmlFor:n,...r})});N.displayName="FormLabel";let j=d.forwardRef((e,a)=>{let{...t}=e,{error:r,formItemId:l,formDescriptionId:n,formMessageId:i}=g();return(0,s.jsx)(o.DX,{ref:a,id:l,"aria-describedby":r?"".concat(n," ").concat(i):"".concat(n),"aria-invalid":!!r,...t})});j.displayName="FormControl",d.forwardRef((e,a)=>{let{className:t,...r}=e,{formDescriptionId:l}=g();return(0,s.jsx)("p",{ref:a,id:l,className:(0,c.cn)("text-[0.8rem] text-neutral-500 dark:text-neutral-400",t),...r})}).displayName="FormDescription";let y=d.forwardRef((e,a)=>{let{className:t,children:r,...l}=e,{error:n,formMessageId:i}=g(),d=n?String(null==n?void 0:n.message):r;return d?(0,s.jsx)("p",{ref:a,id:i,className:(0,c.cn)("text-[0.8rem] font-medium text-red-500 dark:text-red-900",t),...l,children:d}):null});y.displayName="FormMessage";var w=t(9955),k=t(5565),S=t(48173),R=t.n(S),F=t(75828);let I=(0,F.createServerReference)("7f3547e2d86f7a484dcb043d2227c79ad423a46932",F.callServer,void 0,F.findSourceMapURL,"createAccount"),C=(0,F.createServerReference)("7ffbb919bc6d39f6bd8b43b00e309318828c6172bd",F.callServer,void 0,F.findSourceMapURL,"signInUser");var D=t(83572);let U=D.bL;D.l9;let z=D.ZL,P=d.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.hJ,{className:(0,c.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a})});P.displayName=D.hJ.displayName;let E=d.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsxs)(z,{children:[(0,s.jsx)(P,{}),(0,s.jsx)(D.UC,{ref:a,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-neutral-800 dark:bg-neutral-950",t),...r})]})});E.displayName=D.UC.displayName;let L=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};L.displayName="AlertDialogHeader";let M=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};M.displayName="AlertDialogFooter";let O=d.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.hE,{ref:a,className:(0,c.cn)("text-lg font-semibold",t),...r})});O.displayName=D.hE.displayName;let A=d.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.VY,{ref:a,className:(0,c.cn)("text-sm text-neutral-500 dark:text-neutral-400",t),...r})});A.displayName=D.VY.displayName;let T=d.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.rc,{ref:a,className:(0,c.cn)((0,i.r)(),t),...r})});T.displayName=D.rc.displayName,d.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.ZD,{ref:a,className:(0,c.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})}).displayName=D.ZD.displayName;var _=t(13191),B=t(36527);let J=d.forwardRef((e,a)=>{let{className:t,containerClassName:r,...l}=e;return(0,s.jsx)(_.wE,{ref:a,containerClassName:(0,c.cn)("flex items-center gap-2 has-[:disabled]:opacity-50",r),className:(0,c.cn)("disabled:cursor-not-allowed",t),...l})});J.displayName="InputOTP";let V=d.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,c.cn)("flex items-center",t),...r})});V.displayName="InputOTPGroup";let $=d.forwardRef((e,a)=>{let{index:t,className:r,...l}=e,{char:n,hasFakeCaret:i,isActive:o}=d.useContext(_.dK).slots[t];return(0,s.jsxs)("div",{ref:a,className:(0,c.cn)("relative flex h-9 w-9 items-center justify-center border-y border-r border-neutral-200 text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md dark:border-neutral-800",o&&"z-10 ring-1 ring-neutral-950 dark:ring-neutral-300",r),...l,children:[n,i&&(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"h-4 w-px animate-caret-blink bg-neutral-950 duration-1000 dark:bg-neutral-50"})})]})});$.displayName="InputOTPSlot",d.forwardRef((e,a)=>{let{...t}=e;return(0,s.jsx)("div",{ref:a,role:"separator",...t,children:(0,s.jsx)(B.A,{})})}).displayName="InputOTPSeparator";let Z=(0,F.createServerReference)("7f5abbf305f8b009fc697d3ff69c426d1ed5cf55f0",F.callServer,void 0,F.findSourceMapURL,"verifySecret"),G=(0,F.createServerReference)("7ffe6edf2eb12c041c39c11eb76e7d96e70cfe9c9c",F.callServer,void 0,F.findSourceMapURL,"sendEmailOTP");var H=t(76046);let K=e=>{let{accountId:a,email:t}=e,r=(0,H.useRouter)(),[l,n]=(0,d.useState)(!0),[o,c]=(0,d.useState)(""),[u,m]=(0,d.useState)(!1),f=async e=>{e.preventDefault(),m(!0);try{await Z({accountId:a,password:o})&&r.push("/")}catch(e){console.log("Failed to verify OTP",e)}m(!1)},x=async()=>{await G({email:t})};return(0,s.jsx)(U,{open:l,onOpenChange:n,children:(0,s.jsxs)(E,{className:"shad-alert-dialog",children:[(0,s.jsxs)(L,{className:"relative flex justify-center",children:[(0,s.jsxs)(O,{className:"h2 text-center",children:["Enter you OTP",(0,s.jsx)(k.default,{src:"/assets/icons/close-dark.svg",alt:"close",width:20,height:20,onClick:()=>n(!1),className:"otp-close-button"})]}),(0,s.jsxs)(A,{className:"subtitle-2 text-center text-light-100",children:["We've sent a code to"," ",(0,s.jsx)("span",{className:"text-brand",children:t})]})]}),(0,s.jsx)(J,{maxLength:6,value:o,onChange:c,children:(0,s.jsxs)(V,{className:"shad-otp",children:[(0,s.jsx)($,{index:0,className:"shad-otp-slot"}),(0,s.jsx)($,{index:1,className:"shad-otp-slot"}),(0,s.jsx)($,{index:2,className:"shad-otp-slot"}),(0,s.jsx)($,{index:3,className:"shad-otp-slot"}),(0,s.jsx)($,{index:4,className:"shad-otp-slot"}),(0,s.jsx)($,{index:5,className:"shad-otp-slot"})]})}),(0,s.jsx)(M,{children:(0,s.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,s.jsxs)(T,{onClick:f,className:"shad-submit-btn h-12",type:"button",children:["Submit",u&&(0,s.jsx)(k.default,{src:"/assets/icons/loader.svg",alt:"loader",width:24,height:24,className:"ml-2 animate-spin"})]}),(0,s.jsxs)("div",{className:"subtitle-2 mt-2 text-center text-light-100",children:["Didn't get a code?",(0,s.jsx)(i.$,{type:"button",variant:"link",className:"pl-1 text-brand",onClick:x,children:"Click to resend"})]})]})})]})})},W=e=>r.z.object({email:r.z.string().email(),fullName:"sign-up"===e?r.z.string().min(2).max(50):r.z.string().optional()}),X=e=>{let{type:a}=e,[t,r]=(0,d.useState)(!1),[o,c]=(0,d.useState)(""),[u,m]=(0,d.useState)(null),f=W(a),p=(0,n.mN)({resolver:(0,l.u)(f),defaultValues:{fullName:"",email:""}}),g=async e=>{r(!0),c("");try{let t="sign-up"===a?await I({fullName:e.fullName||"",email:e.email}):await C({email:e.email});m(t.accountId)}catch(e){c("Failed to create account. Please try again.")}finally{r(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{...p,children:(0,s.jsxs)("form",{onSubmit:p.handleSubmit(g),className:"auth-form",children:[(0,s.jsx)("h1",{className:"form-title",children:"sign-in"===a?"Sign In":"Sign Up"}),"sign-up"===a&&(0,s.jsx)(h,{control:p.control,name:"fullName",render:e=>{let{field:a}=e;return(0,s.jsxs)(b,{children:[(0,s.jsxs)("div",{className:"shad-form-item",children:[(0,s.jsx)(N,{className:"shad-form-label",children:"Full Name"}),(0,s.jsx)(j,{children:(0,s.jsx)(w.p,{placeholder:"Enter your full name",...a,className:"shad-input"})})]}),(0,s.jsx)(y,{className:"shad-form-message"})]})}}),(0,s.jsx)(h,{control:p.control,name:"email",render:e=>{let{field:a}=e;return(0,s.jsxs)(b,{children:[(0,s.jsxs)("div",{className:"shad-form-item",children:[(0,s.jsx)(N,{className:"shad-form-label",children:"Email"}),(0,s.jsx)(j,{children:(0,s.jsx)(w.p,{placeholder:"Enter your email",...a,className:"shad-input"})})]}),(0,s.jsx)(y,{className:"shad-form-message"})]})}}),(0,s.jsxs)(i.$,{type:"submit",className:"form-submit-button",disabled:t,children:["sign-in"===a?"Sign In":"Sign Up",t&&(0,s.jsx)(k.default,{src:"/assets/icons/loader.svg",alt:"loader",width:24,height:24,className:"ml-2 animate-spin"})]}),o&&(0,s.jsxs)("p",{className:"error-message",children:["*",o]}),(0,s.jsxs)("div",{className:"body-2 flex justify-center",children:[(0,s.jsx)("p",{className:"text-light-100",children:"sign-in"===a?"Don't have an account?":"Already have an account?"}),(0,s.jsxs)(R(),{href:"sign-in"===a?"sign-up":"sign-in",className:"ml-1 font-medium text-brand",children:[" ","sign-in"===a?"Sign Up":"Sign In"," "]})]})]})}),u&&(0,s.jsx)(K,{email:p.getValues("email"),accountId:u})]})}},14085:(e,a,t)=>{"use strict";t.d(a,{$:()=>o,r:()=>d});var s=t(95155),r=t(12115),l=t(12317),n=t(31027),i=t(29602);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 shadow hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white shadow-sm hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 shadow-sm hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,a)=>{let{className:t,variant:r,size:n,asChild:o=!1,...c}=e,u=o?l.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:r,size:n,className:t})),ref:a,...c})});o.displayName="Button"},9955:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(95155),r=t(12115),l=t(29602);let n=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-neutral-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-neutral-950 placeholder:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-neutral-800 dark:file:text-neutral-50 dark:placeholder:text-neutral-400 dark:focus-visible:ring-neutral-300",t),ref:a,...n})});n.displayName="Input"},29602:(e,a,t)=>{"use strict";t.d(a,{$4:()=>d,Ad:()=>n,BR:()=>i,I3:()=>u,TU:()=>m,cn:()=>l,r6:()=>c,ti:()=>o});var s=t(43463),r=t(69795);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,s.$)(a))}let n=e=>URL.createObjectURL(e),i=(e,a)=>e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(a||1)+" KB":e<0x40000000?(e/1048576).toFixed(a||1)+" MB":(e/0x40000000).toFixed(a||2)+" GB",d=e=>Number((e/0x80000000*100).toFixed(1)),o=e=>{var a;let t=null===(a=e.split(".").pop())||void 0===a?void 0:a.toLowerCase();return t?["pdf","doc","docx","txt","xls","xlsx","csv","rtf","ods","ppt","odp","md","html","htm","epub","pages","fig","psd","ai","indd","xd","sketch","afdesign","afphoto","afphoto"].includes(t)?{type:"document",extension:t}:["jpg","jpeg","png","gif","bmp","svg","webp"].includes(t)?{type:"image",extension:t}:["mp4","avi","mov","mkv","webm"].includes(t)?{type:"video",extension:t}:["mp3","wav","ogg","flac"].includes(t)?{type:"audio",extension:t}:{type:"other",extension:t}:{type:"other",extension:""}},c=e=>{if(!e)return"—";let a=new Date(e),t=a.getHours(),s=a.getMinutes(),r=t>=12?"pm":"am";t=t%12||12;let l="".concat(t,":").concat(s.toString().padStart(2,"0")).concat(r),n=a.getDate(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()];return"".concat(l,", ").concat(n," ").concat(i)},u=(e,a)=>{switch(e){case"pdf":return"/assets/icons/file-pdf.svg";case"doc":return"/assets/icons/file-doc.svg";case"docx":return"/assets/icons/file-docx.svg";case"csv":return"/assets/icons/file-csv.svg";case"txt":return"/assets/icons/file-txt.svg";case"xls":case"xlsx":return"/assets/icons/file-document.svg";case"svg":return"/assets/icons/file-image.svg";case"mkv":case"mov":case"avi":case"wmv":case"mp4":case"flv":case"webm":case"m4v":case"3gp":return"/assets/icons/file-video.svg";case"mp3":case"mpeg":case"wav":case"aac":case"flac":case"ogg":case"wma":case"m4a":case"aiff":case"alac":return"/assets/icons/file-audio.svg";default:switch(a){case"image":return"/assets/icons/file-image.svg";case"document":return"/assets/icons/file-document.svg";case"video":return"/assets/icons/file-video.svg";case"audio":return"/assets/icons/file-audio.svg";default:return"/assets/icons/file-other.svg"}}},m=e=>"".concat("https://cloud.appwrite.io/v1","/storage/buckets/").concat("677f67310034a8bea40b","/files/").concat(e,"/download?project=").concat("677f6358002aa0b3bf3e")}}]);