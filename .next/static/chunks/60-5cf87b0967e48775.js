"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{83060:(e,a,t)=>{t.d(a,{default:()=>E});var s=t(95155),l=t(12115),r=t(66217),n=t(40767),d=t(29602);let i=r.bL;r.l9;let o=r.ZL;r.bm;let c=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.hJ,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});c.displayName=r.hJ.displayName;let u=l.forwardRef((e,a)=>{let{className:t,children:l,...i}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(r.UC,{ref:a,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-neutral-800 dark:bg-neutral-950",t),...i,children:[l,(0,s.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-neutral-100 data-[state=open]:text-neutral-500 dark:ring-offset-neutral-950 dark:focus:ring-neutral-300 dark:data-[state=open]:bg-neutral-800 dark:data-[state=open]:text-neutral-400",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.UC.displayName;let m=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};m.displayName="DialogHeader";let f=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};f.displayName="DialogFooter";let x=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.hE,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});x.displayName=r.hE.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.VY,{ref:a,className:(0,d.cn)("text-sm text-neutral-500 dark:text-neutral-400",t),...l})}).displayName=r.VY.displayName;var p=t(44471),h=t(46967),g=t(98867),v=t(33565);let b=p.bL,N=p.l9;p.YJ,p.ZL,p.Pb,p.z6,l.forwardRef((e,a)=>{let{className:t,inset:l,children:r,...n}=e;return(0,s.jsxs)(p.ZP,{ref:a,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-neutral-100 data-[state=open]:bg-neutral-100 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus:bg-neutral-800 dark:data-[state=open]:bg-neutral-800",l&&"pl-8",t),...n,children:[r,(0,s.jsx)(h.A,{className:"ml-auto"})]})}).displayName=p.ZP.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(p.G5,{ref:a,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",t),...l})}).displayName=p.G5.displayName;let j=l.forwardRef((e,a)=>{let{className:t,sideOffset:l=4,...r}=e;return(0,s.jsx)(p.ZL,{children:(0,s.jsx)(p.UC,{ref:a,sideOffset:l,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-md dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})})});j.displayName=p.UC.displayName;let w=l.forwardRef((e,a)=>{let{className:t,inset:l,...r}=e;return(0,s.jsx)(p.q7,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",l&&"pl-8",t),...r})});w.displayName=p.q7.displayName,l.forwardRef((e,a)=>{let{className:t,children:l,checked:r,...n}=e;return(0,s.jsxs)(p.H_,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",t),checked:r,...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(p.VF,{children:(0,s.jsx)(g.A,{className:"h-4 w-4"})})}),l]})}).displayName=p.H_.displayName,l.forwardRef((e,a)=>{let{className:t,children:l,...r}=e;return(0,s.jsxs)(p.hN,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",t),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(p.VF,{children:(0,s.jsx)(v.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=p.hN.displayName;let y=l.forwardRef((e,a)=>{let{className:t,inset:l,...r}=e;return(0,s.jsx)(p.JU,{ref:a,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",t),...r})});y.displayName=p.JU.displayName;let k=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(p.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-neutral-100 dark:bg-neutral-800",t),...l})});k.displayName=p.wv.displayName;var R=t(5565),z=t(46733),S=t(48173),C=t.n(S),A=t(9955),F=t(14085),U=t(75828);let $=(0,U.createServerReference)("7f641f6a8fa0698cea236a95eb61f684d9b846acf7",U.callServer,void 0,U.findSourceMapURL,"renameFile"),D=(0,U.createServerReference)("7f51f8fbe829f283ac341368865a0ba3cd73905390",U.callServer,void 0,U.findSourceMapURL,"updateFileUsers"),L=(0,U.createServerReference)("7f9b86449f198c2419eb2e76f79820bf074cfb0d89",U.callServer,void 0,U.findSourceMapURL,"deleteFile");var I=t(76046),_=t(71112),M=t(79975);let J=e=>{let{file:a}=e;return(0,s.jsxs)("div",{className:"file-details-thumbnail",children:[(0,s.jsx)(_.A,{type:a.type,extension:a.extension,url:a.url}),(0,s.jsxs)("div",{className:"flex-col flex",children:[(0,s.jsx)("p",{className:"subtitle-2 mb-1",children:a.name}),(0,s.jsx)(M.A,{date:a.$createdAt,className:"caption"})]})]})},B=e=>{let{label:a,value:t}=e;return(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("p",{className:"file-details-label text-left",children:a}),(0,s.jsx)("p",{className:"file-details-value text-left",children:t})]})},O=e=>{let{file:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(J,{file:a}),(0,s.jsxs)("div",{className:"space-y-4 px-2 pt-2",children:[(0,s.jsx)(B,{label:"Format:",value:a.extension}),(0,s.jsx)(B,{label:"Size:",value:(0,d.BR)(a.size)}),(0,s.jsx)(B,{label:"Owner:",value:a.owner.fullName}),(0,s.jsx)(B,{label:"Last edit:",value:(0,d.r6)(a.$updatedAt)})]})]})},Z=e=>{let{file:a,onInputChange:t,onRemove:l}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(J,{file:a}),(0,s.jsxs)("div",{className:"share-wrapper",children:[(0,s.jsx)("p",{className:"subtitle-2 pl-1 text-light-100",children:"Share file with other users"}),(0,s.jsx)(A.p,{type:"email",placeholder:"Enter email address",onChange:e=>t(e.target.value.trim().split(",")),className:"share-input-field"}),(0,s.jsxs)("div",{className:"pt-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("p",{className:"subtitle-2 pl-1  text-light-100",children:"Shared with"}),(0,s.jsxs)("p",{className:"subtitle-2 pr-1 text-light-200",children:[a.users.length," users"]})]}),(0,s.jsx)("ul",{className:"pt-2",children:a.users.map(e=>(0,s.jsxs)("li",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("p",{className:"subtitle-2",children:e}),(0,s.jsx)(F.$,{onClick:()=>l(e),className:"share-remove-user",children:(0,s.jsx)(R.default,{src:"/assets/icons/remove.svg",alt:"remove",width:24,height:24,className:"remove-icon"})})]},e))})]})]})]})},E=e=>{let{file:a}=e,[t,r]=(0,l.useState)(!1),[n,o]=(0,l.useState)(!1),[c,p]=(0,l.useState)(null),[h,g]=(0,l.useState)(a.name),[v,S]=(0,l.useState)(!1),[U,_]=(0,l.useState)([]),M=(0,I.usePathname)(),J=()=>{r(!1),o(!1),p(null),g(a.name)},B=async()=>{if(c){S(!0);await ({rename:()=>$({fileId:a.$id,name:h,extension:a.extension,path:M}),share:()=>D({fileId:a.$id,emails:U,path:M}),delete:()=>L({fileId:a.$id,path:M,bucketFileId:a.bucketFileId})})[c.value]()&&J(),S(!1)}},E=async e=>{let t=U.filter(a=>a!==e);await D({fileId:a.$id,emails:t,path:M})&&_(t),J()};return(0,s.jsxs)(i,{open:t,onOpenChange:r,children:[(0,s.jsxs)(b,{open:n,onOpenChange:o,children:[(0,s.jsx)(N,{className:"shad-no-focus",children:(0,s.jsx)(R.default,{src:"/assets/icons/dots.svg",alt:"dots",width:30,height:30})}),(0,s.jsxs)(j,{children:[(0,s.jsx)(y,{className:"max-w-[200px] truncate",children:a.name}),(0,s.jsx)(k,{}),z.To.map(e=>(0,s.jsx)(w,{className:"shad-dropdown-item",onClick:()=>{p(e),["rename","share","delete","details"].includes(e.value)&&r(!0)},children:"download"===e.value?(0,s.jsxs)(C(),{href:(0,d.TU)(a.bucketFileId),download:a.name,className:"flex items-center gap-2",children:[(0,s.jsx)(R.default,{src:e.icon,alt:e.label,width:30,height:30}),e.label]}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(R.default,{src:e.icon,alt:e.label,width:30,height:30}),e.label]})},e.value))]})]}),(()=>{if(!c)return null;let{value:e,label:t}=c;return(0,s.jsxs)(u,{className:"shad-dialog button",children:[(0,s.jsxs)(m,{className:"flex flex-col gap-3",children:[(0,s.jsx)(x,{className:"text-center text-light-100",children:t}),"rename"===e&&(0,s.jsx)(A.p,{type:"text",value:h,onChange:e=>{g(e.target.value)}}),"details"===e&&(0,s.jsx)(O,{file:a}),"share"===e&&(0,s.jsx)(Z,{file:a,onInputChange:_,onRemove:E}),"delete"===e&&(0,s.jsxs)("p",{className:"delete-confirmation",children:["Are you sure you want to delete"," ",(0,s.jsx)("span",{className:"delete-file-name",children:a.name}),"?"]})]}),["rename","delete","share"].includes(e)&&(0,s.jsxs)(f,{className:"flex flex-col gap-3 md:flex-row",children:[(0,s.jsx)(F.$,{onClick:J,className:"modal-cancel-button",children:"Cancel"}),(0,s.jsxs)(F.$,{onClick:B,className:"modal-submit-button",children:[(0,s.jsx)("p",{className:"capitalize",children:e}),v&&(0,s.jsx)(R.default,{src:"/assets/icons/loader.svg",alt:"loader",width:24,height:24,className:"animate-spin"})]})]})]})})()]})}},79975:(e,a,t)=>{t.d(a,{A:()=>r});var s=t(95155),l=t(29602);t(12115);let r=e=>{let{date:a,className:t}=e;return(0,s.jsx)("p",{className:(0,l.cn)("body-1 text-light-200",t),children:(0,l.r6)(a)})}},71112:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(95155),l=t(29602),r=t(5565);t(12115);let n=e=>{let{type:a,extension:t,url:n="",imageClassName:d,className:i}=e,o="image"===a&&"svg"!==t;return(0,s.jsx)("figure",{className:(0,l.cn)("thumbnail",i),children:(0,s.jsx)(r.default,{src:o?n:(0,l.I3)(t,a),alt:"thumbnail",width:100,height:100,className:(0,l.cn)("size-8 object-contain",d,o&&"thumbnail-image")})})}},14085:(e,a,t)=>{t.d(a,{$:()=>o,r:()=>i});var s=t(95155),l=t(12115),r=t(12317),n=t(31027),d=t(29602);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 shadow hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white shadow-sm hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 shadow-sm hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef((e,a)=>{let{className:t,variant:l,size:n,asChild:o=!1,...c}=e,u=o?r.DX:"button";return(0,s.jsx)(u,{className:(0,d.cn)(i({variant:l,size:n,className:t})),ref:a,...c})});o.displayName="Button"},9955:(e,a,t)=>{t.d(a,{p:()=>n});var s=t(95155),l=t(12115),r=t(29602);let n=l.forwardRef((e,a)=>{let{className:t,type:l,...n}=e;return(0,s.jsx)("input",{type:l,className:(0,r.cn)("flex h-9 w-full rounded-md border border-neutral-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-neutral-950 placeholder:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-neutral-800 dark:file:text-neutral-50 dark:placeholder:text-neutral-400 dark:focus-visible:ring-neutral-300",t),ref:a,...n})});n.displayName="Input"},46733:(e,a,t)=>{t.d(a,{Cn:()=>s,To:()=>l,w3:()=>n,wE:()=>r});let s=[{name:"Dashboard",icon:"/assets/icons/dashboard.svg",url:"/"},{name:"Documents",icon:"/assets/icons/documents.svg",url:"/documents"},{name:"Images",icon:"/assets/icons/images.svg",url:"/images"},{name:"Media",icon:"/assets/icons/video.svg",url:"/media"},{name:"Others",icon:"/assets/icons/others.svg",url:"/others"}],l=[{label:"Rename",icon:"/assets/icons/edit.svg",value:"rename"},{label:"Details",icon:"/assets/icons/info.svg",value:"details"},{label:"Share",icon:"/assets/icons/share.svg",value:"share"},{label:"Download",icon:"/assets/icons/download.svg",value:"download"},{label:"Delete",icon:"/assets/icons/delete.svg",value:"delete"}],r=[{label:"Date created (newest)",value:"$createdAt-desc"},{label:"Created Date (oldest)",value:"$createdAt-asc"},{label:"Name (A-Z)",value:"name-asc"},{label:"Name (Z-A)",value:"name-desc"},{label:"Size (Highest)",value:"size-desc"},{label:"Size (Lowest)",value:"size-asc"}],n=0x3200000},29602:(e,a,t)=>{t.d(a,{$4:()=>i,Ad:()=>n,BR:()=>d,I3:()=>u,TU:()=>m,cn:()=>r,r6:()=>c,ti:()=>o});var s=t(43463),l=t(69795);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,l.QP)((0,s.$)(a))}let n=e=>URL.createObjectURL(e),d=(e,a)=>e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(a||1)+" KB":e<0x40000000?(e/1048576).toFixed(a||1)+" MB":(e/0x40000000).toFixed(a||2)+" GB",i=e=>Number((e/0x80000000*100).toFixed(1)),o=e=>{var a;let t=null===(a=e.split(".").pop())||void 0===a?void 0:a.toLowerCase();return t?["pdf","doc","docx","txt","xls","xlsx","csv","rtf","ods","ppt","odp","md","html","htm","epub","pages","fig","psd","ai","indd","xd","sketch","afdesign","afphoto","afphoto"].includes(t)?{type:"document",extension:t}:["jpg","jpeg","png","gif","bmp","svg","webp"].includes(t)?{type:"image",extension:t}:["mp4","avi","mov","mkv","webm"].includes(t)?{type:"video",extension:t}:["mp3","wav","ogg","flac"].includes(t)?{type:"audio",extension:t}:{type:"other",extension:t}:{type:"other",extension:""}},c=e=>{if(!e)return"—";let a=new Date(e),t=a.getHours(),s=a.getMinutes(),l=t>=12?"pm":"am";t=t%12||12;let r="".concat(t,":").concat(s.toString().padStart(2,"0")).concat(l),n=a.getDate(),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()];return"".concat(r,", ").concat(n," ").concat(d)},u=(e,a)=>{switch(e){case"pdf":return"/assets/icons/file-pdf.svg";case"doc":return"/assets/icons/file-doc.svg";case"docx":return"/assets/icons/file-docx.svg";case"csv":return"/assets/icons/file-csv.svg";case"txt":return"/assets/icons/file-txt.svg";case"xls":case"xlsx":return"/assets/icons/file-document.svg";case"svg":return"/assets/icons/file-image.svg";case"mkv":case"mov":case"avi":case"wmv":case"mp4":case"flv":case"webm":case"m4v":case"3gp":return"/assets/icons/file-video.svg";case"mp3":case"mpeg":case"wav":case"aac":case"flac":case"ogg":case"wma":case"m4a":case"aiff":case"alac":return"/assets/icons/file-audio.svg";default:switch(a){case"image":return"/assets/icons/file-image.svg";case"document":return"/assets/icons/file-document.svg";case"video":return"/assets/icons/file-video.svg";case"audio":return"/assets/icons/file-audio.svg";default:return"/assets/icons/file-other.svg"}}},m=e=>"".concat("https://cloud.appwrite.io/v1","/storage/buckets/").concat("677f67310034a8bea40b","/files/").concat(e,"/download?project=").concat("677f6358002aa0b3bf3e")}}]);